/* Estilos específicos para cartinhas favoritas - Estende recebidas.css */

/* Garantir que as cartas empilhadas tenham o posicionamento correto */
.carta-empilhada {
    position: absolute !important;
    width: 100% !important;
    cursor: pointer;
    transform-origin: center center;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Sobrescrever cores do tema para favoritas - usando amarelo/dourado */
.pilha-cartas.ativa {
    background: rgba(255, 193, 7, 0.08) !important;
    box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.35) !important;
}

/* Selo específico para favoritas */
.selo.favorita {
    background: linear-gradient(135deg, #ffc107, #ffb300);
    border-color: #ff8f00;
    color: white;
    font-size: 1rem;
    box-shadow: 0 2px 8px rgba(255, 193, 7, 0.4);
}

/* Contador com tema dourado para favoritas */
.contador-pilha {
    background: linear-gradient(135deg, #ffc107, #ffb300) !important;
    color: white !important;
    border: 2px solid #fff;
    box-shadow: 0 2px 8px rgba(255, 193, 7, 0.4) !important;
}

/* Animação de pulsação dourada para favoritas */
@keyframes pulse-favorita {
    0% { 
        transform: scale(1); 
        box-shadow: 0 2px 8px rgba(255, 193, 7, 0.4);
    }
    50% { 
        transform: scale(1.05); 
        box-shadow: 0 4px 16px rgba(255, 193, 7, 0.6);
    }
    100% { 
        transform: scale(1); 
        box-shadow: 0 2px 8px rgba(255, 193, 7, 0.4);
    }
}

.contador-pilha {
    animation: pulse-favorita 2s infinite !important;
}

/* Envelope com borda dourada para favoritas */
.carta-envelope {
    border: 2px solid rgba(255, 193, 7, 0.3) !important;
    position: relative;
}

.carta-envelope::before {
    content: '⭐';
    position: absolute;
    top: -5px;
    left: -5px;
    background: linear-gradient(135deg, #ffc107, #ffb300);
    color: white;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    box-shadow: 0 2px 6px rgba(255, 193, 7, 0.4);
    z-index: 5;
}

/* Flap do envelope com gradiente dourado */
.envelope-flap {
    background: linear-gradient(135deg, #ffc107, #ffb300) !important;
}

/* Hover effect especial para favoritas */
.carta-envelope:hover {
    border-color: rgba(255, 193, 7, 0.6) !important;
    box-shadow: 0 8px 25px rgba(255, 193, 7, 0.25) !important;
}

/* Botões de ação com tema dourado */
.btn-acao.btn-ler {
    background: linear-gradient(135deg, #ffc107, #ffb300) !important;
    color: white;
}

.btn-acao.btn-ler:hover {
    background: linear-gradient(135deg, #e0a800, #d39e00) !important;
}

/* Modal header com tema dourado */
.modal-carta .modal-header {
    background: linear-gradient(135deg, #ffc107, #ffb300) !important;
    color: #3E3F29 !important;
}

/* Badge de favorita */
.badge.bg-warning {
    background: linear-gradient(135deg, #ffc107, #ffb300) !important;
    border: 1px solid #fff;
    box-shadow: 0 2px 4px rgba(255, 193, 7, 0.3);
}

/* Instruções específicas para favoritas */
.instrucoes-pilha {
    color: #856404 !important;
    background: rgba(255, 193, 7, 0.1);
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    border: 1px solid rgba(255, 193, 7, 0.3);
}

/* Efeito de brilho para cartas favoritas */
.carta-empilhada.topo {
    position: relative;
}


.carta-empilhada.topo:hover::after {
    opacity: 1;
    animation: shimmer 1.5s ease-in-out;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* Texto de estado vazio específico para favoritas */
.sem-cartinhas .envelope-vazio {
    font-size: 4rem;
    color: #ffc107;
    opacity: 0.7;
    text-shadow: 0 2px 4px rgba(255, 193, 7, 0.3);
}

/* Loading spinner dourado */
.loading-spinner .spinner-border.text-warning {
    color: #ffc107 !important;
}

/* Garantir que o modal e backdrop funcionem corretamente */
.modal-backdrop {
    z-index: 1050 !important;
}

.modal {
    z-index: 1055 !important;
}

/* Forçar limpeza quando modal é fechado */
body.modal-open {
    overflow: hidden !important;
}

body:not(.modal-open) {
    overflow: visible !important;
    padding-right: 0 !important;
}

/* Garantir que backdrop seja removido */
.modal-backdrop.fade.show {
    opacity: 0.5;
}

.modal-backdrop:not(.show) {
    opacity: 0 !important;
    display: none !important;
}